(function(g){g.GrowingInput=function(d,b){var c,h,i;b=g.extend({min:0,max:null,startWidth:15,correction:15},b);d=g(d).data('growing',this);var k=this;var l=function(){i=g('<span></span>').css({'float':'left','display':'inline-block','position':'absolute','left':-1000}).insertAfter(d);g.each(['font-size','font-family','padding-left','padding-top','padding-bottom','padding-right','border-left','border-right','border-top','border-bottom','word-spacing','letter-spacing','text-indent','text-transform'],function(a,e){i.css(e,d.css(e))});d.blur(f).keyup(f).keydown(f).keypress(f);f()};var m=function(a){i.text(a);var e=i.width();return(e?e:b.startWidth)+b.correction};var f=function(){h=c;c=d.val();var a=c;if(j(b.min)&&c.length<b.min){if(j(h)&&(h.length<=b.min))return;a=n(c,b.min,'-')}else if(j(b.max)&&c.length>b.max){if(j(h)&&(h.length>=b.max))return;a=c.substr(0,b.max)}d.width(m(a));return k};this.resize=f;l()};var j=function(a){return!!(a||a===0)};var o=function(a,e){return new Array(e+1).join(a)};var n=function(a,e,d,b){if(a.length>=e)return this;d=d||' ';var c=o(d,e-a.length).substr(0,e-a.length);if(!b||b=='right')return a+c;if(b=='left')return c+a;return c.substr(0,(c.length/2).floor())+a+c.substr(0,(c.length/2).ceil())}})(jQuery);
